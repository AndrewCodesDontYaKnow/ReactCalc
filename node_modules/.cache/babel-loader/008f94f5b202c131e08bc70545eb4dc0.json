{"ast":null,"code":"import _classCallCheck from\"/Users/andrewsmith/Desktop/ReactCalc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/andrewsmith/Desktop/ReactCalc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/andrewsmith/Desktop/ReactCalc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/andrewsmith/Desktop/ReactCalc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"./App.css\";import Button from\"./components/Button\";import Input from\"./components/Input\";import ClearButton from\"./components/ClearButton\";import NumberList from\"./components/NumberList\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.componentDidMount=function(){_this.getCalculations();};_this.getCalculations=function(_){fetch(\"http://localhost:4000/calculations\").then(function(response){return response.json();}).then(function(jsonResponse){return jsonResponse.data.map(function(calcObject){return calcObject.calc;});}).then(function(calcArray){console.log(\"got the calcs: \".concat(calcArray));// var joined = this.state.calculationArray.concat(calcArray);\n// this.setState({ calculationArray: calcArray })\n}).catch(function(err){return console.error(err);});};_this.addCalculation=function(){var calculationArray=_this.state.calculationArray;console.log(\"adding \".concat(calculationArray[calculationArray.length-1],\" to the database\"));fetch(\"http://localhost:4000/calculations/add?calc=\".concat(calculationArray[calculationArray.length-1]))// .then(response => response.json())\n.then(_this.getCalculations).catch(function(err){return console.error(err);});};_this.renderCalculation=function(_ref){var id=_ref.id,calc=_ref.calc;return/*#__PURE__*/React.createElement(\"div\",{key:id},calc);};_this.clearCalculations=function(_){fetch(\"http://localhost:4000/clear/\").catch(function(err){return console.error(err);});};_this.addToInput=function(val){if(_this.state.evaluating===true){_this.setState({input:val,calcRecord:val,currentNumber:val,evaluating:false});}else if(_this.state.input.slice(-1)===\" \"||!_this.state.input){_this.setState({input:_this.state.input+val,calcRecord:_this.state.calcRecord+val,currentNumber:val});}else{_this.setState({input:_this.state.input+val,calcRecord:_this.state.calcRecord+val,currentNumber:_this.state.currentNumber+val});}};_this.addZeroToInput=function(val){// if this.state.input is not empty then add zero\nif(_this.state.input!==\"\"){_this.setState({input:_this.state.input+val,calcRecord:_this.state.calcRecord+val,currentNumber:_this.state.currentNumber+val});}};_this.addDecimal=function(val){// if there is no decimal in input, then add the decimal\nif(_this.state.input.indexOf(\".\")===-1){_this.setState({input:_this.state.input+val,calcRecord:_this.state.calcRecord+val});}};_this.clearInput=function(){_this.setState({input:\"\",calcRecord:\"\"});};_this.handleEvaluate=function(){// this.addCalculation()\nif(_this.state.evaluating===true){// this.addCalculation();\nreturn;}else{// this.handleChange()\n_this.setAnswer(_this.evaluate());_this.addCalculation();_this.setState({input:_this.evaluate(),evaluating:true});}};_this.evaluate=function(){var answer=0;if(_this.state.operator===\"plus\"){answer=parseFloat(_this.state.previousNumber)+parseFloat(_this.state.currentNumber);}else if(_this.state.operator===\"subtract\"){answer=parseFloat(_this.state.previousNumber)-parseFloat(_this.state.currentNumber);}else if(_this.state.operator===\"multiply\"){answer=parseFloat(_this.state.previousNumber)*parseFloat(_this.state.currentNumber);}else if(_this.state.operator===\"divide\"){answer=parseFloat(_this.state.previousNumber)/parseFloat(_this.state.currentNumber);}return answer;};_this.setAnswer=function(answer){var newCalculation=_this.state.calcRecord+\" = \"+answer;// this.addCalculation(newCalculation)\nvar calcList=_this.state.calcList;// this.setState({ calculationList: newCalculation });\nvar joined=_this.state.calculationArray.concat(newCalculation);_this.setState({calculationArray:joined});if(calcList.length<10){_this.setState({calcRecord:newCalculation,calculationArray:joined},function(){_this.addCalculation();});}else if(calcList.length>=10){_this.setState({calcList:calcList.shift()});_this.setState({calcRecord:newCalculation,calculationArray:joined},function(){_this.addCalculation();});}};_this.add=function(){_this.setState({previousNumber:_this.state.input,input:_this.state.calcRecord+\" + \",operator:\"plus\",calcRecord:_this.state.calcRecord+\" + \"});};_this.subtract=function(){_this.setState({previousNumber:_this.state.input,input:_this.state.calcRecord+\" - \",operator:\"subtract\",calcRecord:_this.state.calcRecord+\" - \"});};_this.multiply=function(){_this.setState({previousNumber:_this.state.input,input:_this.state.calcRecord+\" * \",operator:\"multiply\",calcRecord:_this.state.calcRecord+\" * \"});};_this.divide=function(){_this.setState({previousNumber:_this.state.input,input:\"\",operator:\"divide\",calcRecord:_this.state.calcRecord+\" / \"});};_this.state={input:\"\",previousNumber:\"\",currentNumber:\"\",operator:\"\",calcRecord:\"\",answer:\"\",calculations:[],calculation:{id:1,calc:\"sample calculation\"},calculationList:\"calculationListhi\",calculationArray:[''],calcList:[],evaluating:false};return _this;}_createClass(App,[{key:\"render\",value:function render(){// const { calculations } = this.state;\nreturn/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(\"div\",{className:\"calc-wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(Input,null,this.state.input)),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(Button,{handleClick:this.addToInput},\"7\"),/*#__PURE__*/React.createElement(Button,{handleClick:this.addToInput},\"8\"),/*#__PURE__*/React.createElement(Button,{handleClick:this.addToInput},\"9\"),/*#__PURE__*/React.createElement(Button,{handleClick:this.divide},\"/\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(Button,{handleClick:this.addToInput},\"4\"),/*#__PURE__*/React.createElement(Button,{handleClick:this.addToInput},\"5\"),/*#__PURE__*/React.createElement(Button,{handleClick:this.addToInput},\"6\"),/*#__PURE__*/React.createElement(Button,{handleClick:this.multiply},\"*\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(Button,{handleClick:this.addToInput},\"1\"),/*#__PURE__*/React.createElement(Button,{handleClick:this.addToInput},\"2\"),/*#__PURE__*/React.createElement(Button,{handleClick:this.addToInput},\"3\"),/*#__PURE__*/React.createElement(Button,{handleClick:this.add},\"+\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(Button,{handleClick:this.addDecimal},\".\"),/*#__PURE__*/React.createElement(Button,{handleClick:this.addZeroToInput},\"0\"),/*#__PURE__*/React.createElement(Button,{handleClick:this.handleEvaluate},\"=\"),/*#__PURE__*/React.createElement(Button,{handleClick:this.subtract},\"-\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(ClearButton,{handleClear:this.clearInput},\"Clear\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"list-wrapper\"},/*#__PURE__*/React.createElement(NumberList,{calculationArray:this.state.calculationArray})));}}]);return App;}(Component);export default App;// submit = (event) => {\n//   event.preventDefault();\n//   const payload = {\n//     calculation: this.state.calcRecord\n//   };\n//   axios({\n//     url: 'http://localhost:8080/api/save',\n//     method: 'POST',\n//     data: payload\n//   })\n//   .then(() => {\n//     console.log('Data has been sent to server')\n//   })\n//   .catch(() => {\n//     console.log('Internal server error')\n//   });\n// }","map":{"version":3,"sources":["/Users/andrewsmith/Desktop/ReactCalc/src/App.js"],"names":["React","Component","Button","Input","ClearButton","NumberList","App","props","componentDidMount","getCalculations","_","fetch","then","response","json","jsonResponse","data","map","calcObject","calc","calcArray","console","log","catch","err","error","addCalculation","calculationArray","state","length","renderCalculation","id","clearCalculations","addToInput","val","evaluating","setState","input","calcRecord","currentNumber","slice","addZeroToInput","addDecimal","indexOf","clearInput","handleEvaluate","setAnswer","evaluate","answer","operator","parseFloat","previousNumber","newCalculation","calcList","joined","concat","shift","add","subtract","multiply","divide","calculations","calculation","calculationList"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\nimport Button from \"./components/Button\";\nimport Input from \"./components/Input\";\nimport ClearButton from \"./components/ClearButton\";\nimport NumberList from \"./components/NumberList\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      input: \"\",\n      previousNumber: \"\",\n      currentNumber: \"\",\n      operator: \"\",\n      calcRecord: \"\",\n      answer: \"\",\n      calculations: [],\n      calculation: {\n        id: 1,\n        calc: \"sample calculation\",\n      },\n      calculationList: \"calculationListhi\",\n      calculationArray: [''],\n      calcList: [],\n      evaluating: false,\n\n    };\n  }\n\n  componentDidMount = () => {\n    this.getCalculations();\n  };\n\n  getCalculations = (_) => {\n    fetch(\"http://localhost:4000/calculations\")\n      .then((response) => response.json())\n      .then(jsonResponse => {\n        return jsonResponse.data.map(calcObject => calcObject.calc)\n      })\n      .then((calcArray) => {\n        console.log(`got the calcs: ${calcArray}`)\n        // var joined = this.state.calculationArray.concat(calcArray);\n        // this.setState({ calculationArray: calcArray })\n      })\n      .catch((err) => console.error(err));\n  };\n\n  addCalculation = () => {\n    const { calculationArray } = this.state;\n    console.log(`adding ${calculationArray[calculationArray.length - 1]} to the database`)\n\n    fetch(\n      `http://localhost:4000/calculations/add?calc=${calculationArray[calculationArray.length - 1]}`\n    )\n      // .then(response => response.json())\n      .then(this.getCalculations)\n      .catch((err) => console.error(err));\n  };\n\n  //\n  renderCalculation = ({ id, calc }) => {\n    return <div key={id}>{calc}</div>;\n  };\n\n  clearCalculations = (_) => {\n    fetch(\n      `http://localhost:4000/clear/`\n    )\n    .catch((err) => console.error(err))\n  }\n\n  addToInput = (val) => {\n    if (this.state.evaluating === true) {\n      this.setState({\n        input: val,\n        calcRecord: val,\n        currentNumber: val,\n        evaluating: false,\n      });\n    } else if (this.state.input.slice(-1) === \" \" || !this.state.input) {\n      this.setState({\n        input: this.state.input + val,\n        calcRecord: this.state.calcRecord + val,\n        currentNumber: val,\n      });\n    } else {\n      this.setState({\n        input: this.state.input + val,\n        calcRecord: this.state.calcRecord + val,\n        currentNumber: this.state.currentNumber + val,\n      });\n    }\n  };\n\n  addZeroToInput = (val) => {\n    // if this.state.input is not empty then add zero\n    if (this.state.input !== \"\") {\n      this.setState({\n        input: this.state.input + val,\n        calcRecord: this.state.calcRecord + val,\n        currentNumber: this.state.currentNumber + val,\n      });\n    }\n  };\n\n  addDecimal = (val) => {\n    // if there is no decimal in input, then add the decimal\n    if (this.state.input.indexOf(\".\") === -1) {\n      this.setState({\n        input: this.state.input + val,\n        calcRecord: this.state.calcRecord + val,\n      });\n    }\n  };\n\n  clearInput = () => {\n    this.setState({\n      input: \"\",\n      calcRecord: \"\",\n    });\n  };\n\n  // handleChange = () => {\n  //   this.setState(this.setAnswer(this.evaluate()), this.addCalculation);\n  // }\n\n  handleEvaluate = () => {\n    // this.addCalculation()\n    if(this.state.evaluating === true) {\n      // this.addCalculation();\n      return;\n    } else {\n      // this.handleChange()\n    this.setAnswer(this.evaluate());\n    this.addCalculation();\n    this.setState({\n      input: this.evaluate(),\n      evaluating: true,\n    });\n  }\n  };\n\n  evaluate = () => {\n    let answer = 0;\n\n    if (this.state.operator === \"plus\") {\n      answer =\n        parseFloat(this.state.previousNumber) +\n        parseFloat(this.state.currentNumber);\n    } else if (this.state.operator === \"subtract\") {\n      answer =\n        parseFloat(this.state.previousNumber) -\n        parseFloat(this.state.currentNumber);\n    } else if (this.state.operator === \"multiply\") {\n      answer =\n        parseFloat(this.state.previousNumber) *\n        parseFloat(this.state.currentNumber);\n    } else if (this.state.operator === \"divide\") {\n      answer =\n        parseFloat(this.state.previousNumber) /\n        parseFloat(this.state.currentNumber);\n    }\n    return answer;\n  };\n\n  setAnswer = (answer) => {\n\n    let newCalculation = this.state.calcRecord + \" = \" + answer;\n    // this.addCalculation(newCalculation)\n    const { calcList } = this.state;\n    // this.setState({ calculationList: newCalculation });\n\n    var joined = this.state.calculationArray.concat(newCalculation);\n    this.setState({ calculationArray: joined });\n    if (calcList.length < 10) {\n      this.setState({\n        calcRecord: newCalculation,\n        calculationArray: joined,\n      },\n      () => {\n        this.addCalculation()\n    });\n    } else if (calcList.length >= 10) {\n      this.setState({ calcList: calcList.shift() });\n      this.setState({\n        calcRecord: newCalculation,\n        calculationArray: joined,\n      },\n      () => {\n        this.addCalculation()\n    });\n    }\n  };\n\n  add = () => {\n    this.setState({\n      previousNumber: this.state.input,\n      input: this.state.calcRecord + \" + \",\n      operator: \"plus\",\n      calcRecord: this.state.calcRecord + \" + \",\n    });\n  };\n\n  subtract = () => {\n    this.setState({\n      previousNumber: this.state.input,\n      input: this.state.calcRecord + \" - \",\n      operator: \"subtract\",\n      calcRecord: this.state.calcRecord + \" - \",\n    });\n  };\n\n  multiply = () => {\n    this.setState({\n      previousNumber: this.state.input,\n      input: this.state.calcRecord + \" * \",\n      operator: \"multiply\",\n      calcRecord: this.state.calcRecord + \" * \",\n    });\n  };\n\n  divide = () => {\n    this.setState({\n      previousNumber: this.state.input,\n      input: \"\",\n      operator: \"divide\",\n      calcRecord: this.state.calcRecord + \" / \",\n    });\n  };\n\n  render() {\n    // const { calculations } = this.state;\n    return (\n      <div className=\"App\">\n        {/* <div className=\"calcArea\">\n          {this.state.calculations.map(this.renderCalculation)}\n        </div> */}\n\n        <div className=\"calc-wrapper\">\n          <div className=\"row\">\n            <Input>{this.state.input}</Input>\n          </div>\n\n          <div className=\"row\">\n            <Button handleClick={this.addToInput}>7</Button>\n            <Button handleClick={this.addToInput}>8</Button>\n            <Button handleClick={this.addToInput}>9</Button>\n            <Button handleClick={this.divide}>/</Button>\n          </div>\n\n          <div className=\"row\">\n            <Button handleClick={this.addToInput}>4</Button>\n            <Button handleClick={this.addToInput}>5</Button>\n            <Button handleClick={this.addToInput}>6</Button>\n            <Button handleClick={this.multiply}>*</Button>\n          </div>\n\n          <div className=\"row\">\n            <Button handleClick={this.addToInput}>1</Button>\n            <Button handleClick={this.addToInput}>2</Button>\n            <Button handleClick={this.addToInput}>3</Button>\n            <Button handleClick={this.add}>+</Button>\n          </div>\n\n          <div className=\"row\">\n            <Button handleClick={this.addDecimal}>.</Button>\n            <Button handleClick={this.addZeroToInput}>0</Button>\n            <Button handleClick={this.handleEvaluate}>=</Button>\n            <Button handleClick={this.subtract}>-</Button>\n          </div>\n          \n          <div className=\"row\">\n            <ClearButton handleClear={this.clearInput}>Clear</ClearButton>\n            {/* <ClearButton handleClear={this.clearCalculations}>Clear Calculations</ClearButton> */}\n          </div>\n        </div>\n        <div className=\"list-wrapper\">\n          <NumberList calculationArray={this.state.calculationArray} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n\n// submit = (event) => {\n//   event.preventDefault();\n\n//   const payload = {\n//     calculation: this.state.calcRecord\n//   };\n\n//   axios({\n//     url: 'http://localhost:8080/api/save',\n//     method: 'POST',\n//     data: payload\n//   })\n//   .then(() => {\n//     console.log('Data has been sent to server')\n//   })\n//   .catch(() => {\n//     console.log('Internal server error')\n//   });\n\n// }\n"]},"metadata":{},"sourceType":"module"}