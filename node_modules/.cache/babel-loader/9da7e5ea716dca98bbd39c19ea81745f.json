{"ast":null,"code":"var _jsxFileName = \"/Users/andrewsmith/Desktop/ReactCalc/src/App.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport Button from \"./components/Button\";\nimport Input from \"./components/Input\";\nimport ClearButton from \"./components/ClearButton\";\nimport NumberList from \"./components/NumberList\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      this.getCalculations();\n    };\n\n    this.getCalculations = _ => {\n      fetch(\"http://localhost:4000/calculations\").then(response => response.json()).then(jsonResponse => {\n        console.log(jsonResponse);\n        return jsonResponse.data.map(calcObject => calcObject.calc);\n      }).then(calcArray => {\n        console.log(calcArray);\n        var joined = this.state.calculationArray.concat(calcArray);\n        this.setState({\n          calculationArray: joined\n        });\n      }).catch(err => console.error(err));\n    };\n\n    this.addCalculation = _ => {\n      const {\n        calculationArray\n      } = this.state;\n      console.log(`adding ${calculationArray[calculationArray.length - 1]} to the database`);\n      fetch(`http://localhost:4000/calculations/add?calc=${calculationArray[calculationArray.length - 1]}`) // .then(response => response.json())\n      .then(this.getCalculations).catch(err => console.error(err));\n    };\n\n    this.renderCalculation = ({\n      id,\n      calc\n    }) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 12\n        }\n      }, calc);\n    };\n\n    this.addToInput = val => {\n      if (this.state.evaluating === true) {\n        this.setState({\n          input: val,\n          calcRecord: val,\n          currentNumber: val,\n          evaluating: false\n        });\n      } else if (this.state.input.slice(-1) === \" \" || !this.state.input) {\n        this.setState({\n          input: this.state.input + val,\n          calcRecord: this.state.calcRecord + val,\n          currentNumber: val\n        });\n      } else {\n        this.setState({\n          input: this.state.input + val,\n          calcRecord: this.state.calcRecord + val,\n          currentNumber: this.state.currentNumber + val\n        });\n      }\n    };\n\n    this.addZeroToInput = val => {\n      // if this.state.input is not empty then add zero\n      if (this.state.input !== \"\") {\n        this.setState({\n          input: this.state.input + val,\n          calcRecord: this.state.calcRecord + val,\n          currentNumber: this.state.currentNumber + val\n        });\n      }\n    };\n\n    this.addDecimal = val => {\n      // if there is no decimal in input, then add the decimal\n      if (this.state.input.indexOf(\".\") === -1) {\n        this.setState({\n          input: this.state.input + val,\n          calcRecord: this.state.calcRecord + val\n        });\n      }\n    };\n\n    this.clearInput = () => {\n      this.setState({\n        input: \"\",\n        calcRecord: \"\"\n      });\n    };\n\n    this.handleChange = e => {\n      this.setState(this.setAnswer(this.evaluate()), this.addCalculation);\n    };\n\n    this.handleEvaluate = () => {\n      if (this.state.evaluating === true) {\n        // this.addCalculation();\n        return;\n      } else {\n        this.handleChange(); // this.setAnswer(this.evaluate());\n        // this.addCalculation();\n\n        this.setState({\n          input: this.evaluate(),\n          evaluating: true\n        });\n      }\n    };\n\n    this.evaluate = () => {\n      let answer = 0;\n\n      if (this.state.operator === \"plus\") {\n        answer = parseFloat(this.state.previousNumber) + parseFloat(this.state.currentNumber);\n      } else if (this.state.operator === \"subtract\") {\n        // console.log(`here is previousnumber: ${this.state.previousNumber}`)\n        // console.log(`here is currentnumber: ${this.state.currentNumber}`)\n        // console.log(`here is PARSE previousnumber: ${parseFloat(this.state.previousNumber)}`)\n        // console.log(`here is PARSE currentnumber: ${parseFloat(this.state.currentNumber)}`)\n        answer = parseFloat(this.state.previousNumber) - parseFloat(this.state.currentNumber);\n      } else if (this.state.operator === \"multiply\") {\n        answer = parseFloat(this.state.previousNumber) * parseFloat(this.state.currentNumber);\n      } else if (this.state.operator === \"divide\") {\n        answer = parseFloat(this.state.previousNumber) / parseFloat(this.state.currentNumber);\n      }\n\n      return answer;\n    };\n\n    this.setAnswer = answer => {\n      let newCalculation = this.state.calcRecord + \" = \" + answer;\n      const {\n        calcList\n      } = this.state; // this.setState({ calculationList: newCalculation });\n\n      var joined = this.state.calculationArray.concat(newCalculation); // this.setState({ calculationArray: joined });\n\n      if (calcList.length < 10) {\n        this.setState({\n          calcRecord: newCalculation,\n          calculationArray: joined\n        });\n      } else if (calcList.length >= 10) {\n        this.setState({\n          calcList: calcList.shift()\n        });\n        this.setState({\n          calcRecord: newCalculation,\n          calculationArray: joined\n        });\n      }\n    };\n\n    this.add = () => {\n      this.setState({\n        previousNumber: this.state.input,\n        input: this.state.calcRecord + \" + \",\n        operator: \"plus\",\n        calcRecord: this.state.calcRecord + `  `\n      });\n    };\n\n    this.subtract = () => {\n      this.setState({\n        previousNumber: this.state.input,\n        input: this.state.calcRecord + \" - \",\n        operator: \"subtract\",\n        calcRecord: this.state.calcRecord + \" - \"\n      });\n    };\n\n    this.multiply = () => {\n      this.setState({\n        previousNumber: this.state.input,\n        input: this.state.calcRecord + \" * \",\n        operator: \"multiply\",\n        calcRecord: this.state.calcRecord + \" * \"\n      });\n    };\n\n    this.divide = () => {\n      this.setState({\n        previousNumber: this.state.input,\n        input: \"\",\n        operator: \"divide\",\n        calcRecord: this.state.calcRecord + \" / \"\n      });\n    };\n\n    this.state = {\n      input: \"\",\n      previousNumber: \"\",\n      currentNumber: \"\",\n      operator: \"\",\n      calcRecord: \"\",\n      answer: \"\",\n      calculations: [],\n      calculation: {\n        id: 1,\n        calc: \"sample calculation\"\n      },\n      calculationList: \"calculationListhi\",\n      calculationArray: [''],\n      calcList: [],\n      evaluating: false\n    };\n  }\n\n  render() {\n    // const { calculations } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"calcArea\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }\n    }, this.state.calculations.map(this.renderCalculation)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"calc-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 13\n      }\n    }, this.state.input)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 13\n      }\n    }, \"7\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 13\n      }\n    }, \"8\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 13\n      }\n    }, \"9\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.divide,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 13\n      }\n    }, \"/\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 13\n      }\n    }, \"4\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 13\n      }\n    }, \"5\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 13\n      }\n    }, \"6\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.multiply,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 13\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 13\n      }\n    }, \"1\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 13\n      }\n    }, \"2\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 13\n      }\n    }, \"3\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.add,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 13\n      }\n    }, \"+\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addDecimal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 13\n      }\n    }, \".\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addZeroToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 13\n      }\n    }, \"0\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.handleEvaluate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 13\n      }\n    }, \"=\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.subtract,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 13\n      }\n    }, \"-\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(ClearButton, {\n      handleClear: this.clearInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 13\n      }\n    }, \"Clear\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"list-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(NumberList, {\n      calculationArray: this.state.calculationArray,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default App; // submit = (event) => {\n//   event.preventDefault();\n//   const payload = {\n//     calculation: this.state.calcRecord\n//   };\n//   axios({\n//     url: 'http://localhost:8080/api/save',\n//     method: 'POST',\n//     data: payload\n//   })\n//   .then(() => {\n//     console.log('Data has been sent to server')\n//   })\n//   .catch(() => {\n//     console.log('Internal server error')\n//   });\n// }","map":{"version":3,"sources":["/Users/andrewsmith/Desktop/ReactCalc/src/App.js"],"names":["React","Component","Button","Input","ClearButton","NumberList","App","constructor","props","componentDidMount","getCalculations","_","fetch","then","response","json","jsonResponse","console","log","data","map","calcObject","calc","calcArray","joined","state","calculationArray","concat","setState","catch","err","error","addCalculation","length","renderCalculation","id","addToInput","val","evaluating","input","calcRecord","currentNumber","slice","addZeroToInput","addDecimal","indexOf","clearInput","handleChange","e","setAnswer","evaluate","handleEvaluate","answer","operator","parseFloat","previousNumber","newCalculation","calcList","shift","add","subtract","multiply","divide","calculations","calculation","calculationList","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\nimport Button from \"./components/Button\";\nimport Input from \"./components/Input\";\nimport ClearButton from \"./components/ClearButton\";\nimport NumberList from \"./components/NumberList\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      input: \"\",\n      previousNumber: \"\",\n      currentNumber: \"\",\n      operator: \"\",\n      calcRecord: \"\",\n      answer: \"\",\n      calculations: [],\n      calculation: {\n        id: 1,\n        calc: \"sample calculation\",\n      },\n      calculationList: \"calculationListhi\",\n      calculationArray: [''],\n      calcList: [],\n      evaluating: false,\n    };\n  }\n\n  componentDidMount = () => {\n    this.getCalculations();\n  };\n\n\n  // TODO:\n  // 1. map the response.data array to a new array with just the calculation strings, do this inside of getCalculations\n  // 2.using method from before with 'joined' var, add the reponse.data array to the calculationArray in state,\n  // -this will cause getCalculations to format the returned data from the db into an array that can be used by NumberList to display correctly\n\n  getCalculations = (_) => {\n    fetch(\"http://localhost:4000/calculations\")\n      .then((response) => response.json())\n      .then(jsonResponse => {\n        console.log(jsonResponse)\n        return jsonResponse.data.map(calcObject => calcObject.calc)\n      })\n      .then((calcArray) => {\n        console.log(calcArray)\n        var joined = this.state.calculationArray.concat(calcArray);\n        this.setState({ calculationArray: joined })\n      })\n      .catch((err) => console.error(err));\n  };\n\n  addCalculation = (_) => {\n    const { calculationArray } = this.state;\n    console.log(`adding ${calculationArray[calculationArray.length - 1]} to the database`)\n\n    fetch(\n      `http://localhost:4000/calculations/add?calc=${calculationArray[calculationArray.length - 1]}`\n    )\n      // .then(response => response.json())\n      .then(this.getCalculations)\n      .catch((err) => console.error(err));\n  };\n\n  //\n  renderCalculation = ({ id, calc }) => {\n    return <div key={id}>{calc}</div>;\n  };\n\n  addToInput = (val) => {\n    if (this.state.evaluating === true) {\n      this.setState({\n        input: val,\n        calcRecord: val,\n        currentNumber: val,\n        evaluating: false,\n      });\n    } else if (this.state.input.slice(-1) === \" \" || !this.state.input) {\n      this.setState({\n        input: this.state.input + val,\n        calcRecord: this.state.calcRecord + val,\n        currentNumber: val,\n      });\n    } else {\n      this.setState({\n        input: this.state.input + val,\n        calcRecord: this.state.calcRecord + val,\n        currentNumber: this.state.currentNumber + val,\n      });\n    }\n  };\n\n  addZeroToInput = (val) => {\n    // if this.state.input is not empty then add zero\n    if (this.state.input !== \"\") {\n      this.setState({\n        input: this.state.input + val,\n        calcRecord: this.state.calcRecord + val,\n        currentNumber: this.state.currentNumber + val,\n      });\n    }\n  };\n\n  addDecimal = (val) => {\n    // if there is no decimal in input, then add the decimal\n    if (this.state.input.indexOf(\".\") === -1) {\n      this.setState({\n        input: this.state.input + val,\n        calcRecord: this.state.calcRecord + val,\n      });\n    }\n  };\n\n  clearInput = () => {\n    this.setState({\n      input: \"\",\n      calcRecord: \"\",\n    });\n  };\n\n  handleChange = (e) => {\n    this.setState(this.setAnswer(this.evaluate()), this.addCalculation);\n  }\n\n  handleEvaluate = () => {\n    if(this.state.evaluating === true) {\n      // this.addCalculation();\n      return;\n    } else {\n      this.handleChange()\n    // this.setAnswer(this.evaluate());\n    // this.addCalculation();\n    this.setState({\n      input: this.evaluate(),\n      evaluating: true,\n    });\n  }\n  };\n\n  evaluate = () => {\n    let answer = 0;\n\n    if (this.state.operator === \"plus\") {\n      answer =\n        parseFloat(this.state.previousNumber) +\n        parseFloat(this.state.currentNumber);\n    } else if (this.state.operator === \"subtract\") {\n      // console.log(`here is previousnumber: ${this.state.previousNumber}`)\n      // console.log(`here is currentnumber: ${this.state.currentNumber}`)\n      // console.log(`here is PARSE previousnumber: ${parseFloat(this.state.previousNumber)}`)\n      // console.log(`here is PARSE currentnumber: ${parseFloat(this.state.currentNumber)}`)\n      answer =\n        parseFloat(this.state.previousNumber) -\n        parseFloat(this.state.currentNumber);\n    } else if (this.state.operator === \"multiply\") {\n      answer =\n        parseFloat(this.state.previousNumber) *\n        parseFloat(this.state.currentNumber);\n    } else if (this.state.operator === \"divide\") {\n      answer =\n        parseFloat(this.state.previousNumber) /\n        parseFloat(this.state.currentNumber);\n    }\n    return answer;\n  };\n\n  setAnswer = (answer) => {\n\n    let newCalculation = this.state.calcRecord + \" = \" + answer;\n\n    const { calcList } = this.state;\n    // this.setState({ calculationList: newCalculation });\n\n    var joined = this.state.calculationArray.concat(newCalculation);\n    // this.setState({ calculationArray: joined });\n\n    if (calcList.length < 10) {\n      this.setState({\n        calcRecord: newCalculation,\n        calculationArray: joined,\n      });\n    } else if (calcList.length >= 10) {\n      this.setState({ calcList: calcList.shift() });\n      this.setState({\n        calcRecord: newCalculation,\n        calculationArray: joined,\n      });\n    }\n  };\n\n  add = () => {\n    this.setState({\n      previousNumber: this.state.input,\n      input: this.state.calcRecord + \" + \",\n      operator: \"plus\",\n      calcRecord: this.state.calcRecord + `  `,\n    });\n  };\n\n  subtract = () => {\n    this.setState({\n      previousNumber: this.state.input,\n      input: this.state.calcRecord + \" - \",\n      operator: \"subtract\",\n      calcRecord: this.state.calcRecord + \" - \",\n    });\n  };\n\n  multiply = () => {\n    this.setState({\n      previousNumber: this.state.input,\n      input: this.state.calcRecord + \" * \",\n      operator: \"multiply\",\n      calcRecord: this.state.calcRecord + \" * \",\n    });\n  };\n\n  divide = () => {\n    this.setState({\n      previousNumber: this.state.input,\n      input: \"\",\n      operator: \"divide\",\n      calcRecord: this.state.calcRecord + \" / \",\n    });\n  };\n\n  render() {\n    // const { calculations } = this.state;\n    return (\n      <div className=\"App\">\n        <div className=\"calcArea\">\n          {this.state.calculations.map(this.renderCalculation)}\n        </div>\n\n        <div className=\"calc-wrapper\">\n          <div className=\"row\">\n            <Input>{this.state.input}</Input>\n          </div>\n\n          <div className=\"row\">\n            <Button handleClick={this.addToInput}>7</Button>\n            <Button handleClick={this.addToInput}>8</Button>\n            <Button handleClick={this.addToInput}>9</Button>\n            <Button handleClick={this.divide}>/</Button>\n          </div>\n\n          <div className=\"row\">\n            <Button handleClick={this.addToInput}>4</Button>\n            <Button handleClick={this.addToInput}>5</Button>\n            <Button handleClick={this.addToInput}>6</Button>\n            <Button handleClick={this.multiply}>*</Button>\n          </div>\n\n          <div className=\"row\">\n            <Button handleClick={this.addToInput}>1</Button>\n            <Button handleClick={this.addToInput}>2</Button>\n            <Button handleClick={this.addToInput}>3</Button>\n            <Button handleClick={this.add}>+</Button>\n          </div>\n\n          <div className=\"row\">\n            <Button handleClick={this.addDecimal}>.</Button>\n            <Button handleClick={this.addZeroToInput}>0</Button>\n            <Button handleClick={this.handleEvaluate}>=</Button>\n            <Button handleClick={this.subtract}>-</Button>\n          </div>\n\n          <div className=\"row\">\n            <ClearButton handleClear={this.clearInput}>Clear</ClearButton>\n          </div>\n        </div>\n        <div className=\"list-wrapper\">\n          <NumberList calculationArray={this.state.calculationArray} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n\n// submit = (event) => {\n//   event.preventDefault();\n\n//   const payload = {\n//     calculation: this.state.calcRecord\n//   };\n\n//   axios({\n//     url: 'http://localhost:8080/api/save',\n//     method: 'POST',\n//     data: payload\n//   })\n//   .then(() => {\n//     console.log('Data has been sent to server')\n//   })\n//   .catch(() => {\n//     console.log('Internal server error')\n//   });\n\n// }\n"]},"metadata":{},"sourceType":"module"}